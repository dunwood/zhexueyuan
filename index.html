<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <title>哲学园 - Philosophy Garden</title>
    <!-- 添加 Marked.js 用于解析 Markdown -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <style>
        /* 保留原有样式 */
        /* ... */

        /* 添加文章列表样式 */
        .article-list {
            margin-top: 2rem;
        }
        
        .article-item {
            background: white;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            border-radius: 5px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .article-meta {
            color: #7f8c8d;
            font-size: 0.9rem;
            margin: 0.5rem 0;
        }
        
        .article-content {
            line-height: 1.6;
        }

        .loading {
            text-align: center;
            padding: 2rem;
            color: #7f8c8d;
        }
    </style>
</head>
<body>
    <!-- 保留原有 HTML 结构 -->
    <!-- ... -->

    <script>
        const GITHUB_INFO = {
            owner: 'dunwood', // 替换为你的 GitHub 用户名
            repo: 'zhexueyuan', // 替换为你的仓库名
        };

        // 从 GitHub 获取文章列表
        async function fetchArticles(category) {
            try {
                const response = await fetch(
                    `https://api.github.com/repos/${GITHUB_INFO.owner}/${GITHUB_INFO.repo}/contents/articles/${category}`
                );
                const files = await response.json();
                
                // 过滤出 .md 文件
                const mdFiles = files.filter(file => file.name.endsWith('.md'));
                
                // 获取每篇文章的内容
                const articles = await Promise.all(
                    mdFiles.map(async file => {
                        const contentResponse = await fetch(file.download_url);
                        const content = await contentResponse.text();
                        return {
                            title: getTitle(content),
                            content: marked(content),
                            date: getDate(content),
                            author: getAuthor(content)
                        };
                    })
                );
                
                return articles;
            } catch (error) {
                console.error('Error fetching articles:', error);
                return [];
            }
        }

        // 从 Markdown 内容中提取标题
        function getTitle(content) {
            const match = content.match(/# (.*)/);
            return match ? match[1] : 'Untitled';
        }

        // 从 Markdown 内容中提取日期
        function getDate(content) {
            const match = content.match(/日期：(.*)/);
            return match ? match[1] : '';
        }

        // 从 Markdown 内容中提取作者
        function getAuthor(content) {
            const match = content.match(/作者：(.*)/);
            return match ? match[1] : '';
        }

        // 修改原有的 sections 对象
        const sections = {
            'ancient-greek': {
                title: '古希腊哲学',
                async getContent() {
                    const articles = await fetchArticles('ancient-greek');
                    return `
                        <h2>古希腊哲学文章列表</h2>
                        <div class="article-list">
                            ${articles.length > 0 ? 
                                articles.map(article => `
                                    <div class="article-item">
                                        <h3>${article.title}</h3>
                                        <div class="article-meta">
                                            ${article.author ? `作者：${article.author}` : ''}
                                            ${article.date ? ` | 日期：${article.date}` : ''}
                                        </div>
                                        <div class="article-content">${article.content}</div>
                                    </div>
                                `).join('') : 
                                '<p>暂无文章</p>'
                            }
                        </div>
                    `;
                }
            },
            // 其他版块类似...
        };

        // 修改 showSection 函数
        async function showSection(sectionId) {
            document.getElementById('home-page').style.display = 'none';
            document.getElementById('section-page').style.display = 'block';
            
            const section = sections[sectionId];
            document.getElementById('section-title').textContent = section.title;
            
            // 显示加载中
            document.getElementById('section-content').innerHTML = '<div class="loading">加载中...</div>';
            
            // 获取并显示内容
            const content = await section.getContent();
            document.getElementById('section-content').innerHTML = content;
        }

        // 其他原有函数保持不变
        // ...
    </script>
</body>
</html>